"use strict";angular.module("siteApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/home",{templateUrl:"views/home.html",controller:"HomeCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/portfolio",{templateUrl:"views/portfolio.html",controller:"PortfolioCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("siteApp").service("pieChartService",function(){function a(a){var b=3.6*a;return b}var b=[{title:"JS",color:"#4f1d12",percent:35},{title:"HTML 5/ CSS",color:"#7d2c1a",percent:20},{title:"TDD",color:"#a74630",percent:15},{title:"GIT",color:"#df765f",percent:10},{title:"AngularJS/NodeJS",color:"#bb3030",percent:15},{title:"AGILE",color:"#f6d6d6",percent:5}];this.getData=function(){return b},this.titles=b.map(function(a){return a.title}),this.degrees=b.map(function(b){return a(b.percent)}),this.colors=b.map(function(a){return a.color})}),angular.module("siteApp").service("anchorSmoothScroll",function(){this.scrollTo=function(a){function b(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function c(a,b){for(var c=document.getElementById(a),d=c.offsetTop,e=c;e.offsetParent&&e.offsetParent!=document.body;)e=e.offsetParent,d+=e.offsetTop;return d}var d=b(),e=c(a),f=e>d?e-d:d-e;if(100>f)return void scrollTo(0,e);var g=Math.round(f/100);g>=20&&(g=20);var h=Math.round(f/25),i=e>d?d+h:d-h,j=0;if(e>d)for(var k=d;e>k;k+=h)setTimeout("window.scrollTo(0, "+i+")",j*g),i+=h,i>e&&(i=e),j++;else for(var k=d;k>e;k-=h)setTimeout("window.scrollTo(0, "+i+")",j*g),i-=h,e>i&&(i=e),j++}}),angular.module("siteApp").directive("pieChart",["pieChartService",function(a){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/pie-chart.html",controller:function(){var b=a;this.init=function(){function a(a){return e=3.6*a}function c(a){for(var b=0,c=a.length;c>b;b++)k+=a[b]}function d(){for(var a=0,b=m.length;b>a;a++)g.fillStyle=n[a],g.beginPath(),g.moveTo(h[0],h[1]),g.arc(h[0],h[1],i,j,j+2*Math.PI*(m[a]/k),!1),g.lineTo(h[0],h[1]),g.fill(),j+=2*Math.PI*(m[a]/k)}var e,f=document.getElementById("pie-chart-canvas"),g=f.getContext("2d"),h=[f.width/2,f.height/2],i=Math.min(f.width,f.height)/2,j=0,k=0,l=b.getData(),m=l.map(function(b){return a(b.percent)}),n=l.map(function(a){return a.color});c(m),d()},this.getLegendTitles=function(a){a.data=b.getData()}},link:function(a,b,c,d){var e=b[0];console.log(e),d.init(b),d.getLegendTitles(a)}}}]),angular.module("siteApp").directive("googleMap",function(){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/google-map.html",controller:function(){var a,b,c,d;b=b&&parseFloat(b,10)||51.508742,c=c&&parseFloat(c,10)||-.033796,a={center:new google.maps.LatLng(b,c),zoom:15,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},this.init=function(){d=new google.maps.Map(document.getElementById("googleMapBg"),a)}},link:function(a,b,c,d){d.init()}}}),angular.module("siteApp").directive("hero",["$window",function(a){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/hero.html",controller:function(){var b=document.querySelector("#hero"),c=document.querySelector("#hero-text-wrapper"),d=document.querySelector("#hero-text1"),e=document.querySelector("#hero-text2"),f=document.querySelector("#hero-text3"),g=document.querySelector("#hero-subtext"),h=a.innerWidth>480?"200px":"30%";this.init=function(){console.log("init"),TweenLite.to(b,2,{opacity:1,delay:1}),TweenLite.to(c,1,{top:h,opacity:1,delay:1.5}),TweenLite.to(d,.5,{opacity:1,delay:2}),TweenLite.to(e,.5,{opacity:1,delay:2.25}),TweenLite.to(f,.5,{opacity:1,delay:2.5}),TweenLite.to(g,1,{opacity:.5,delay:3.5})}},link:function(a,b,c,d){d.init()}}}]),angular.module("siteApp").directive("home",function(){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/home.html"}}),angular.module("siteApp").directive("about",function(){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/about.html"}}),angular.module("siteApp").directive("gallery",function(){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/portfolio.html",controller:function(){var a=document.querySelector("#gallery-image-content"),b=[{client:"Salmon Ltd",brand:"Dulux",desc:"Build and modified entire frontend for Dulux by implementing new styles and Javascrript",tech:"KnockoutJS, HTML5, CSS3, SASS, GIT",imageUrl:"images/portfolio/images/img01.jpg",thumbUrl:"images/portfolio/thumbs/thum01.jpg",projectUrl:"http://www.dulux.com.sg/en/colour-inspiration"},{client:"Skyscanner Ltd",brand:"Skyscanner B2B",desc:"Rebuild the entire frontend for the Skyscanner B2B Website using the latest web design trends",tech:"HTML5, CSS3, LESS, jQuery, ASP.NET MVC",imageUrl:"images/portfolio/images/img02.jpg",thumbUrl:"images/portfolio/thumbs/thum02.jpg",projectUrl:"http://business.skyscanner.net/portal/en-GB"},{client:"Age UK",brand:"Age UK",desc:"Responsible for imagery, it's selection of the website",tech:"HTML, CSS, Photoshop, Content Management",imageUrl:"images/portfolio/images/img04.jpg",thumbUrl:"images/portfolio/thumbs/thum04.jpg",projectUrl:"http://www.ageuk.org.uk/"},{client:"Skyscanner Ltd",brand:"Lonely Planet",desc:"Integrated Skyscanner component for official Lonely Planet website and re-styled it",tech:"HTML5, CSS3, LESS, ASP.NET MVC",imageUrl:"images/portfolio/images/img03.jpg",thumbUrl:"images/portfolio/thumbs/thum03.jpg",projectUrl:"http://www.lonelyplanet.com/europe"}];this.hideImagePane=function(){return function(){a.addClass("l-hidden")}},this.showImagePane=function(){a.removeClass("l-hidden")},this.getGalleryData=function(){return b},this.init=function(){}},link:function(a,b,c,d){a.data=d.getGalleryData(),a.hideImage=d.hideImagePane(),d.init()}}}),angular.module("siteApp").directive("contact",function(){return{scope:{},restrict:"AE",replace:"true",templateUrl:"../views/contact.html"}}),angular.module("siteApp").directive("scroll",["$window","$location","anchorSmoothScroll",function(a,b,c){return{controller:function(){this.gotoElement=function(a,d){b.hash(a),c.scrollTo(a,d)}},link:function(b,c,d,e){function f(){function d(){var d=(a.pageYOffset||document.scrollTop)-(document.clientTop||0),e=document.getElementsByClassName("theme-header")[0],f=80;f>d||isNaN(d)?angular.element(e).removeClass("is-bottom fadeOutIn"):angular.element(e).addClass("is-bottom fadeOutIn"),angular.forEach(c.find("section"),function(c){var e=c.dataset.speed,f=c.dataset.type;f&&angular.element(a).bind("scroll",function(){var a=-(d/e),f="50% "+a+"px";c.style.backgroundPosition=f,b.$apply()})})}var e=angular.element(a);e.on("scroll",b.$apply.bind(b,d))}b.gotoElement=e.gotoElement,b.$on("$viewContentLoaded",f)}}}]),angular.module("siteApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);